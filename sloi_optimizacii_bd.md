–ù–µ, django-cachalot –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –≤—Å—ë —ç—Ç–æ, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–µ—à–∏—Ä—É–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã. –ù–æ –æ–Ω –Ω–µ –æ—Ç–º–µ–Ω—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –∞ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –µ—ë.

–Ø –ø–æ–Ω–∏–º–∞—é —Ç–≤–æ—é —Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏—é - —É —Ç–µ–±—è —É–∂–µ prefetch_related, –∫–µ—à–∏—Ä—É–µ–º—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–∞—Å–∫–∏, —Ä—É—á–Ω–æ–π –∫–µ—à, –∞ —Ç–µ–ø–µ—Ä—å –µ—â—ë django-cachalot ‚Äî –∫–∞–∫ –≤—Å—ë —ç—Ç–æ –º–µ–∂–¥—É —Å–æ–±–æ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç? –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è! üöÄ

üî• –ö–∞–∫ django-cachalot –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–≤–æ—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É?
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è	–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?	–ó–∞–º–µ–Ω—è–µ—Ç –ª–∏ cachalot?
select_related() / prefetch_related()	–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤	‚ùå –ù–µ—Ç, cachalot –∫–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ JOIN'–æ–≤
–ö–µ—à–∏—Ä—É–µ–º—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è	–ò–∑–±–µ–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–µ—Ä–µ—Å—á—ë—Ç–æ–≤	‚ùå –ù–µ—Ç, cachalot –∫–µ—à–∏—Ä—É–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å, –Ω–æ –Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
Celery-—Ç–∞—Å–∫–∏	–ü–µ—Ä–µ–Ω–æ—Å–∏—Ç —Ç—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å	‚ùå –ù–µ—Ç, cachalot –Ω–µ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º
–†—É—á–Ω–æ–π –∫–µ—à (Redis)	–ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ	üîÑ –ß–∞—Å—Ç–∏—á–Ω–æ, –Ω–æ cachalot —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å ORM-–∑–∞–ø—Ä–æ—Å–∞–º–∏
django-cachalot	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–µ—à–∏—Ä—É–µ—Ç QuerySet'—ã	‚úÖ –î–∞, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
üöÄ –ö–∞–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
1Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π SQL-–∑–∞–ø—Ä–æ—Å—ã (select_related(), prefetch_related())
‚Üí –ù—É–∂–Ω–æ –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å "–ª–∞–≤–∏–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤".
‚Üí Cachalot —Ç—É—Ç –Ω–µ –ø–æ–º–æ–∂–µ—Ç, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∫–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞, –∞ –Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π –∫–µ—à–∏—Ä—É–µ–º—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è
‚Üí –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ —Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ —Å —É—á—ë—Ç–æ–º —Å–∫–∏–¥–æ–∫).
‚Üí Cachalot –∫–µ—à–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–∞–º –∑–∞–ø—Ä–æ—Å, –Ω–æ –Ω–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ª–æ–≥–∏–∫—É –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

3Ô∏è‚É£ –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π Celery
‚Üí Celery –¥–µ–ª–∞–µ—Ç —Ç—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã–º–∏, cachalot —Ç—É—Ç –Ω–µ –ø–æ–º–æ–∂–µ—Ç.
‚Üí –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π django-cachalot, –µ—Å–ª–∏ —É —Ç–µ–±—è –º–Ω–æ–≥–æ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
‚Üí Cachalot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–µ—à–∏—Ä—É–µ—Ç QuerySet'—ã, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î.
‚Üí –ï—Å–ª–∏ —É —Ç–µ–±—è –º–Ω–æ–≥–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö filter(), annotate(), aggregate(), –æ–Ω –∏—Ö –∑–∞–∫–µ—à–∏—Ä—É–µ—Ç.

5Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π Redis –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
‚Üí Cachalot —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å QuerySet, –∞ Redis –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ª—é–±–æ–≥–æ –∫–µ—à–∞.
‚Üí –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å API-–∑–∞–ø—Ä–æ—Å—ã, —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

üéØ –í—ã–≤–æ–¥  cachalot ‚Äî —ç—Ç–æ –ù–ï –∑–∞–º–µ–Ω–∞, –∞ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
–ï—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∫–∞–∫ —Å–ª–æ–∏, —Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è —Ç–∞–∫ -

üîπ –°–ª–æ–π 1 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (select_related(), prefetch_related(), –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î).
üîπ –°–ª–æ–π 2 - Django-cachalot (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–µ—à ORM-–∑–∞–ø—Ä–æ—Å–æ–≤).
üîπ –°–ª–æ–π 3 - –ö–µ—à–∏—Ä—É–µ–º—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤.
üîπ –°–ª–æ–π 4 - Redis –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, API-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å ORM.
üîπ –°–ª–æ–π 5 - Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á, —Ç—è–∂—ë–ª—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤, —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ API.

üëâ Cachalot ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–¥–∏–Ω –∏–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –æ–Ω –Ω–µ –æ—Ç–º–µ–Ω—è–µ—Ç –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã.
üëâ –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ, –µ—Å–ª–∏ —É —Ç–µ–±—è –º–Ω–æ–≥–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ –Ω–µ –∑–∞–º–µ—â–∞–π –∏–º –¥—Ä—É–≥–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. üòé